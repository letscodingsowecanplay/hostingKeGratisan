.gambar-wrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-sizing: border-box;
}

/* --- Ukuran alat satuan dan dropzone desktop/tablet --- */
.gambar-soal {
    display: block;
    width: 100%;
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.13);
    margin: 0 auto;
    object-fit: contain;
    background: #fff;
    box-sizing: border-box;
}
.satuan-slot {
    border: 2px dashed #fbb954;
}

.drop-zone {
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
    position: absolute;
    background-color: rgba(255,255,255,0.90);
    border: 2px dashed #fbb954;
    border-radius: 8px;
    display: flex;
    z-index: 10;
    transition: border-color .17s, background .12s;
    pointer-events: auto;
    gap: 0;
}
.drop-zone.horizontal { flex-direction: row; align-items: center; justify-content: flex-start;}
.drop-zone.vertikal   { flex-direction: column; align-items: center; justify-content: flex-end;}

.drop-zone.horizontal.kerupuk    { width: 332px; height: 44px; left: 9vw !important; top: 55%;}
.drop-zone.horizontal.dodol-coklat { width: 345px; height: 44px; left: 10vw !important; top: 70%;}
.drop-zone.vertikal.guci         { height: 270px; width: 44px; left: 10vw !important; top: 5%;}
.drop-zone.vertikal.bekantan     { height: 258px; width: 44px; left: 10vw !important; top: 10%;}
.drop-zone.vertikal.tugu         { height: 215px; width: 44px; left: 10vw !important; top: 25%;}

.alat-satuan { 
    box-shadow: 0 2px 8px rgba(0,0,0,0.13);
    border-radius: 5px;
    object-fit: cover;
    display: block;
    margin: 0 auto;
    transition: box-shadow .16s;
    cursor: grab;
}
.alat-satuan-horizontal { width: 48px; height: 38px; }
.alat-satuan-vertikal   { width: 32px; height: 53px; }

/* Ukuran alat satuan di dropzone desktop */
.alat-satuan-drop.alat-satuan-horizontal { width: 38px !important; height: 38px !important; }
.alat-satuan-drop.alat-satuan-vertikal   { width: 32px !important; height: 50px !important; }

.drop-zone .alat-satuan { margin: 0 !important; }

/* ----------- RESPONSIVE TABLET ----------- */
@media (max-width: 600px) and (min-width: 421px) {
    .gambar-wrapper { max-width: 420px !important; }
    .gambar-soal { max-width: 100% !important; }
    .drop-zone { min-width: 36px !important; min-height: 36px !important; }
    .satuan-slot { width: 36px !important; height: 36px !important; }
    .drop-zone.horizontal.kerupuk    { width: 150px !important; height: 36px !important;}
    .drop-zone.horizontal.dodol-coklat { width: 176px !important; height: 36px !important;}
    .drop-zone.vertikal.guci         { height: 142px !important; width: 36px !important;}
    .drop-zone.vertikal.bekantan     { height: 146px !important; width: 36px !important;}
    .drop-zone.vertikal.tugu         { height: 106px !important; width: 36px !important;}
    .alat-satuan-horizontal { width: 28px !important; height: 28px !important; }
    .alat-satuan-vertikal   { width: 22px !important; height: 36px !important; }
    /* DI DROPZONE tablet */
    .alat-satuan-drop.alat-satuan-horizontal { width: 22px !important; height: 28px !important; }
    .alat-satuan-drop.alat-satuan-vertikal   { width: 18px !important; height: 32px !important; }
}

/* ----------- RESPONSIVE HP MOBILE < 420px ----------- */
@media (max-width: 420px) {
    .gambar-wrapper {
        display: flex !important;
        flex-direction: row !important;
        justify-content: center !important;
        align-items: center !important;
        max-width: 320px !important;
        width: 98vw !important;
        margin-left: auto !important;
        margin-right: auto !important;
        background: #fff !important;
        overflow: hidden !important;
        box-sizing: border-box !important;
        padding: 0 !important;
    }
    .gambar-soal {
        display: block !important;
        width: 100% !important;
        max-width: 320px !important;
        min-width: 120px !important;
        height: auto !important;
        border-radius: 10px !important;
        box-shadow: 0 4px 8px rgba(0,0,0,0.13) !important;
        margin-left: auto !important;
        margin-right: auto !important;
        object-fit: contain !important;
        background: #fff !important;
        box-sizing: border-box !important;
        align-self: center !important;
    }
    .satuan-slot { width: 30px !important; height: 30px !important; }
    .drop-zone.horizontal.kerupuk {
        width: 185px !important;
        height: 30px !important;
        left: 39vw !important; top: 63%;
        transform: translateX(-50%) !important;
    }
    .drop-zone.horizontal.dodol-coklat {
        width: 188px !important;
        height: 30px !important;
        left: 17vw !important; top: 70%;
        transform: none !important;
    }
    .drop-zone.vertikal.guci {
        height: 152px !important;
        width: 30px !important;
        left: 15vw !important; top:4%;
        transform: none !important;
    }
    .drop-zone.vertikal.bekantan {
        height: 144px !important;
        width: 30px !important;
        left: 15vw !important; top: 10%;
        transform: none !important;
    }
    .drop-zone.vertikal.tugu {
        height: 117px !important;
        width: 30px !important;
        left: 15vw !important; top: 24%;
        transform: none !important;
    }
    /* Area grid */
    .alat-satuan-horizontal { width: 26px !important; height: 26px !important; }
    .alat-satuan-vertikal   { width: 28px !important; height: 28px !important; }
    /* DI DROPZONE (auto-fit) */
    .alat-satuan-drop.alat-satuan-horizontal { width: 26px !important; height: 26px !important; }
    .alat-satuan-drop.alat-satuan-vertikal   { width: 18px !important; height: 22px !important; }
}

/* ----------- RESPONSIVE HP MINI < 360px ----------- */
@media (max-width: 360px) {
    .gambar-wrapper {
        display: flex !important;
        flex-direction: row !important;
        justify-content: center !important;
        align-items: center !important;
        max-width: 240px !important;
        width: 96vw !important;
        margin-left: auto !important;
        margin-right: auto !important;
        background: #fff !important;
        overflow: hidden !important;
        box-sizing: border-box !important;
        padding: 0 !important;
    }
    .gambar-soal {
        display: block !important;
        width: 100% !important;
        max-width: 240px !important;
        min-width: 100px !important;
        height: auto !important;
        border-radius: 10px !important;
        margin-left: auto !important;
        margin-right: auto !important;
        object-fit: contain !important;
        background: #fff !important;
        box-sizing: border-box !important;
        align-self: center !important;
    }
    .satuan-slot { width: 22px !important; height: 22px !important; }
    .drop-zone.horizontal.kerupuk {
        width: 130px !important;
        height: 22px !important;
        left: 32vw !important; top: 50%;
        transform: translateX(-50%) !important;
    }
    .drop-zone.horizontal.dodol-coklat {
        width: 145px !important;
        height: 22px !important;
        left: 14vw !important; top: 79%;
        transform: none !important;
    }
    .drop-zone.vertikal.guci {
        height: 110px !important;
        width: 22px !important;
        left: 5vw !important; top: 50%;
        transform: none !important;
    }
    .drop-zone.vertikal.bekantan {
        height: 105px !important;
        width: 22px !important;
        left: 15vw !important; top: 10%;
        transform: none !important;
    }
    .drop-zone.vertikal.tugu {
        height: 80px !important;
        width: 22px !important;
        left: 15vw !important; top: 30%;
        transform: translateX(-50%) !important;
    }
    .alat-satuan-horizontal { width: 10px !important; height: 10px !important; }
    .alat-satuan-vertikal   { width: 13px !important; height: 13px !important; }
    .alat-satuan-drop.alat-satuan-horizontal { width: 7px !important; height: 7px !important; }
    .alat-satuan-drop.alat-satuan-vertikal   { width: 9px !important; height: 12px !important; }
}

.satuan-area {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    justify-content: center;
    margin: 15px auto;
    max-width: 100%;
    padding: 10px 2px;
}
.satuan-slot { margin: 0; padding: 0; }

#stepper-soal, #stepper-review {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
    margin-bottom: 10px;
}
.stepper-btn {
    min-width: 90px;
    font-size: 1.06em;
    padding: 5px 13px;
    border-radius: 7px !important;
    margin-bottom: 3px;
    font-weight: 500;
    letter-spacing: 0.2px;
    white-space: nowrap;
}
@media (max-width: 600px) {
    #stepper-soal, #stepper-review { gap: 6px; margin-bottom: 7px; }
    .stepper-btn { min-width: 68px; font-size: 0.97em; padding: 4px 8px; }
}
@media (max-width: 420px) {
    #stepper-soal, #stepper-review { gap: 4px; margin-bottom: 6px; }
    .stepper-btn { min-width: 52px; font-size: 0.90em; padding: 4px 4px; }
}
@media (max-width: 360px) {
    .stepper-btn { min-width: 44px; font-size: 0.83em; padding: 3px 2px; }
}
